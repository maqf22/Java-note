
# 一、实现多线程

## 1. 进程

进行程是正在运行的程序

## 2. 线程

线程是进程中的单个顺序控制流，是一条执行路径

## 3. 多线程的实现-方式一
## 4. 设置和获取线程名称

```java
package com.maqf.demo01;

public class MyThread extends Thread {

    public MyThread() {
        super();
    }

    // 在构造方法中通过调用父类的成员方法设置线程名称
    public MyThread(String name) {
        super(name);
    }

    @Override
    public void run() {
        for (int i = 0; i < 20; i++) {
            // 通过getName()方法获取线程名称
            // System.out.println(Thread.currentThread().getName() + ": i = " + i);
            System.out.println(this.getName() + ": i = " + i);
        }
    }
}
```

```java
package com.maqf.demo01;

public class Demo01 {
    public static void main(String[] args) {
        MyThread t01 = new MyThread("线程01");
        MyThread t02 = new MyThread("线程02");
        MyThread t03 = new MyThread("线程03");

        // 通过线程对象设置线程名称
        // t01.setName("线程01");
        // t02.setName("线程02");
        // t03.setName("线程03");

        // 通过start()方法启动线程
        t01.start();
        t02.start();
        t03.start();

        // 获取当前正在运行的线程对象
        Thread t = Thread.currentThread();
        t.setName("主线程"); // 设置当前正在运行的线程对象名称
        for (int i = 0; i < 20; i++) {
            System.out.println(t.getName() + ": i = " + i);
        }
    }
}
```

## 5. 线程调度

- 两种线程调度模型
	- 分时调度模型：所有线程轮流使用CPU的使用权，平均分配每个线程占用CPU的时间
	- 抢点调度模型：优先让优先级高的线程使用CPU，如果线程的优先级相同，那么就随机选择一个，优先级高的线程获取的CPU占用时间会相对多一些

> Java使用的是抢占式的调度模型

- Thread类中设置和获取线程优先级的方法
	- public final int getPriority()：返回次线程的优先级
	- public final void setProiority(int newPriority)：更改次线程的优先级

```java
package com.maqf.demo01;

public class Demo02 {
    public static void main(String[] args) {
        MyThread t01 = new MyThread("线程01");
        MyThread t02 = new MyThread("线程02");
        MyThread t03 = new MyThread("线程03");

        t01.setPriority(Thread.MAX_PRIORITY);
        t02.setPriority(Thread.MIN_PRIORITY);
        t03.setPriority(Thread.NORM_PRIORITY);

        // 通过start()方法启动线程
        t01.start();
        t02.start();
        t03.start();
    }
}
```

## 6. 线程控制

方法名 | 说明
:- | :-
static void sleep(long ms) | 是当前正在执行的线程停留指定的毫秒数
void join() | 等待这个进程死亡
void setDaemon(boolean on) | 将此线程标记为守护进程，当运行线程都是守护线时，JVM将退出

- sleep案例

```java
```

