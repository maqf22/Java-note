
# 一、MySQL环境搭建及配置

1. 安装MySQL
2. 配置环境变量path，在path值当中添加mysql可执行文件所有在目录
3. 在命令行输入mysql -u root -h 127.0.0.1 -p 回库
4. 使用 \\s 命令查看当前MySQL配置信息，端口号以及字符集
5. 设置utf8字符编码-在my.ini配置文件当中

> 在\[client\]段落后添加：default-charater-set=utf8
> 在\[mysqld\]段落后添加：character_set_server=utf8

注意：若在修改字符集之前有数据库或者表存在，并且部分字段信息是???形式可以使用一下语句调整表结构

```sql
mysql> alter table 表名 convert to character set utf8;
```


# 二、概念

- 数据：Data
- 数据库：DataBase（DB）
- 数据库管理系统：DataBase Management System（DBMS）
- 数据库系统：DataBase System（DBS）
- SQL语言分为四个部分
	- DDL(Data Definition Language)：数据定义语言 - (create, drop, alter...)
	- DML(Data Manipulation Language)：数据操作语言 - (insert, update, delete...)
	- DQL(Data Query Language)：数据查询语言 - (select...)
	- DCL(Data Contorl Language)：数据控制语言 - (grant, comit, rollback...)


# 三、连接数据库

> mysql -h 主机名 -u 用户名 -p 密码 库名

```bat
mysql # 采用匿名方式登录本机服务器
mysql -h localhost -u root -p # 常规登录本机服务器
mysql -u root -p # 默认本机登录
mysql -u root -p testData # 登录同时直接进入testData数据库
```

```bat
mysql -uroot -proot # 直接使用用户名和密码登录
```

```sql
# 查看当前MySQL中已存在的数据库
show databases;

# 查看当前正在使用的数据库，NULL表示没有使用数据库
select database();

# 进入数据库
use test;
```


# 四、数据库基本操作

- 每一条命令都要以分号结束，表示完成
- 可以将一条命令在任意空格处拆分成多行，当遇到分号时结束当前命令的执行
- 可以通过在命令结尾添加\\c的方式来取消当前命令的执行
- 可以使用\\q、exit、quit来退出MySQL终端
- 可以通过\\h、?、help命令在MySQL中查看帮助信息
- 可以通过\\G来将查询到的结果纵向显示在命令终端当中
- 可以使用\\s来查看当前数据库服务器状态（配置）


# 五、基本的MySQL数据库操作指令

## 1. 针对数据库的基本操作

```sql
create database 数据库名称; -- 创建数据库
use 数据库名称; -- 进入数据库
select database(); -- 查看当前数据库
drop database 数据库名称; -- 删除数据库
show databases; -- 查看当前MySQL中存在的数据库
show create database 数据库名称; -- 查看创建数据库语句
```

注意：
1. MySQL数据库当中命令不区分大小写
2. 在window中，数据库名称同样不区分大小写，但在Linux中严格区分大小写
3. 每创建一个数据库，就会在data目录下创建一个以数据库名称命名的目录


# 六、针对数据表的最基本操作

```sql
-- 创建一个数据表
create table 数据表名(字段1信息，字段2信息...);
-- 查看数据表的结构
desc 数据表名;
-- 删除一个数据表
drop table 数据表名;
-- 修改一个数据表的结构
alter table 表名称 相关操作;
-- 向数据表中添加一个条数据
inser into 表名称(字段名) values (字段值);
-- 查看数据表中指定字段的信息
select 字段名 from 表名;
-- 更新数据表中指定条件，指定字段的信息
update 表名 set 字段名=新值 [where 条件];
-- 指定表当中根据指定条件删除数据
delete form 表名 [where 条件];
-- 查看创建数据表时系统执行的命令
show create table 数据表名;
```

```sql
-- 创建一个数据表，id/name/age都是字段名（列名）
create table student(id int, name varchar(32), age int);

-- 查看数据表的结构
desc student;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | int(11)     | YES  |     | NULL    |       |
| name  | varchar(32) | YES  |     | NULL    |       |
| age   | int(11)     | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+

-- 修改数据表 - 添加一个gender字段
alter table student add gender varchar(4);
+--------+-------------+------+-----+---------+-------+
| Field  | Type        | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| id     | int(11)     | YES  |     | NULL    |       |
| name   | varchar(32) | YES  |     | NULL    |       |
| age    | int(11)     | YES  |     | NULL    |       |
| gender | varchar(4)  | YES  |     | NULL    |       |
+--------+-------------+------+-----+---------+-------+

-- 删除gender字段
alter table student drop gender;
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | int(11)     | YES  |     | NULL    |       |
| name  | varchar(32) | YES  |     | NULL    |       |
| age   | int(11)     | YES  |     | NULL    |       |
+-------+-------------+------+-----+---------+-------+

-- 向数据表中插入数据
insert into student (id, name, age) value (1, 'Jack', 19);

-- 查看数据表中的数据
select * from student;
+------+------+------+
| id   | name | age  |
+------+------+------+
|    1 | Jack |   19 |
|    2 | Rose |   18 |
+------+------+------+
select name, id, age from student;
+------+------+------+
| name | id   | age  |
+------+------+------+
| Jack |    1 |   19 |
| Rose |    2 |   18 |
+------+------+------+

-- 修改指定条件数据表内容（没有条件修改的是的所有）
update student set id=3 where name="Rose";
+------+------+------+
| id   | name | age  |
+------+------+------+
|    1 | Jack |   19 |
|    3 | Rose |   18 |
+------+------+------+

-- 删除指定条件的数据（没有条件删除所有）
delete from student where id=3;
+------+------+------+
| id   | name | age  |
+------+------+------+
|    1 | Jack |   19 |
+------+------+------+

-- 查看创建数据表时系统给我们执行的命令
show create table student\G;
*************************** 1. row ***************************
       Table: student
Create Table: CREATE TABLE `student` (
  `id` int(11) DEFAULT NULL,
  `name` varchar(32) DEFAULT NULL,
  `age` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8

-- 删除数据表
drop table student;
```

